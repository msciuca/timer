<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Daily Class Progress</title>
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@500&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --clr-bg: #f0f4f8;
      --clr-primary: #6cbf7f;
      --clr-warning: #ffd95e;
      --clr-danger: #f25c54;
      --clr-text: #2a2a2a;
      --clr-accent: #ffffff;
      --radius: 0.75rem;
      --transition: 0.3s;
    }
    *, *::before, *::after { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background-color: var(--clr-bg);
      color: var(--clr-text);
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem 1rem;
      text-align: center;
    }
    h1 {
      font-family: 'Fredoka', sans-serif;
      font-size: 2.75rem;
      color: var(--clr-primary);
      margin-bottom: 0.5rem;
      transition: transform var(--transition);
    }
    h1:hover { transform: scale(1.05); }
    .clock {
      font-family: 'Fredoka', sans-serif;
      font-size: 2rem;
      margin-bottom: 2rem;
    }
    .button-container {
      margin-bottom: 2rem;
    }
    button {
      background-color: var(--clr-primary);
      color: var(--clr-accent);
      border: none;
      border-radius: var(--radius);
      padding: 0.75rem 1.5rem;
      margin: 0 0.5rem;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: background-color var(--transition), transform var(--transition);
    }
    button:hover {
      background-color: #5bb06b;
      transform: translateY(-2px);
    }
    .progress-container {
      width: 100%;
      max-width: 800px;
      margin-bottom: 3rem;
    }
    table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0 1rem;
    }
    tr {
      background-color: var(--clr-accent);
      border-radius: var(--radius);
      box-shadow: 0 2px 6px rgba(0,0,0,0.08);
      transition: box-shadow var(--transition);
    }
    tr:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.12); }
    td {
      padding: 0.75rem 1rem;
      vertical-align: middle;
    }
    .label-cell {
      text-align: right;
      font-weight: 600;
      width: 30%;
      color: var(--clr-text);
    }
    .bar-cell { width: 70%; }
    .progress-bar {
      background-color: #e0e4e8;
      border-radius: var(--radius);
      overflow: hidden;
      cursor: pointer;
      height: 1.75rem;
    }
    .progress {
      height: 100%;
      width: 0;
      background-color: var(--clr-primary);
      transition: width 1s linear, background-color var(--transition);
    }
    /* Footer Section */
    .footer-section {
      width: 100%;
      max-width: 800px;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-bottom: 2rem;
    }
    .footer-section input,
    .footer-section textarea {
      border: none;
      border-bottom: 2px solid var(--clr-primary);
      background: transparent;
      padding: 0.5rem 0.25rem;
      width: 100%;
      font-family: 'Fredoka', sans-serif;
      text-align: center;
      outline: none;
      transition: border-color var(--transition);
    }
    .footer-section input:focus,
    .footer-section textarea:focus {
      border-color: var(--clr-danger);
    }
    .footer-title-input { font-size: 3rem; }
    .footer-date { font-size: 1.5rem; color: var(--clr-text); }
    .footer-intention-input,
    .footer-criteria-input { font-size: 2rem; }
  </style>
</head>
<body>
  <h1>Class Period Progress Tracker</h1>
  <div id="currentTime" class="clock"></div>
  <div class="button-container">
    <button onclick="setDay('A')">A Day (1,3,5,7)</button>
    <button onclick="setDay('B')">B Day (2,4,6,8)</button>
  </div>
  <div class="progress-container">
    <table id="progressTable"></table>
  </div>
  <!-- Footer Info -->
  <div class="footer-section">
    <input id="footer-title-input" type="text" placeholder="Enter Title" class="footer-title-input" />
    <p id="footer-date" class="footer-date"></p>
    <textarea id="footer-intention-input" placeholder="Learning Intention" class="footer-intention-input" rows="1"></textarea>
    <textarea id="footer-criteria-input" placeholder="Success Criteria" class="footer-criteria-input" rows="1"></textarea>
  </div>
  <script>
    const periods = {
      A: [
        { label: "Period 1", start: "07:00", end: "08:20" },
        { label: "Period 3", start: "08:25", end: "09:51" },
        { label: "Period 5", start: "09:56", end: "11:16" },
        { label: "Lunch", start: "11:16", end: "11:46" },
        { label: "Period 7", start: "11:51", end: "13:11" }
      ],
      B: [
        { label: "Period 2", start: "07:00", end: "08:20" },
        { label: "Period 4", start: "08:25", end: "09:51" },
        { label: "Period 6", start: "09:56", end: "11:16" },
        { label: "Lunch", start: "11:16", end: "11:46" },
        { label: "Period 8", start: "11:51", end: "13:11" }
      ]
    };
    let selectedDay = 'A';
    let simulatedNow = null;
    function setDay(day) {
      selectedDay = day; simulatedNow = null; renderBars();
    }
    function parseTime(str) {
      const [h,m] = str.split(":").map(Number);
      const d = new Date(); d.setHours(h,m,0,0); return d;
    }
    function getPercent(startStr,endStr) {
      const now = simulatedNow || new Date();
      const start = parseTime(startStr), end = parseTime(endStr);
      if (now < start) return 0;
      if (now > end) return 100;
      return ((now - start)/(end - start))*100;
    }
    function getColor(p) {
      if (p >= 100) return 'var(--clr-primary)';
      if (p < 25) return 'var(--clr-primary)';
      if (p < 75) return 'var(--clr-warning)';
      return 'var(--clr-danger)';
    }
    function renderBars() {
      const tbl = document.getElementById("progressTable"); tbl.innerHTML = '';
      periods[selectedDay].forEach(p => {
        const pct = getPercent(p.start,p.end);
        const row = document.createElement('tr');
        const labelTd = document.createElement('td'); labelTd.className='label-cell'; labelTd.textContent=`${p.label} (${p.start}-${p.end})`;
        const barTd = document.createElement('td'); barTd.className='bar-cell';
        const bar = document.createElement('div'); bar.className='progress-bar';
        bar.addEventListener('click',e=>{
          const frac = e.offsetX/e.currentTarget.offsetWidth;
          const s=parseTime(p.start), e2=parseTime(p.end);
          simulatedNow=new Date(s.getTime()+frac*(e2-s)); renderBars();
        });
        const fill = document.createElement('div'); fill.className='progress';
        fill.style.width=`${pct}%`; fill.style.backgroundColor=getColor(pct);
        bar.appendChild(fill); barTd.appendChild(bar);
        row.appendChild(labelTd); row.appendChild(barTd);
        tbl.appendChild(row);
      });
    }
    function updateTime() {
      const now=new Date(); document.getElementById('currentTime').textContent=now.toLocaleTimeString();
    }
    setInterval(()=>{ if(!simulatedNow) renderBars(); updateTime(); },1000);
    renderBars(); updateTime();
    // Footer date
    const dateElem=document.getElementById('footer-date');
    dateElem.textContent=new Date().toLocaleDateString(undefined,{month:'long',day:'numeric',year:'numeric'});
  </script>
</body>
</html>
